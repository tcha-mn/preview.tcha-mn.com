---
import { Icon } from 'astro-icon/components';

const { text, links, currentPath } = Astro.props;
---

<>
  <button class="hover:text-link flex items-center px-4 py-3 dark:hover:text-white">
    {text}
    <Icon name="tabler:chevron-down" class="ml-0.5 hidden h-3.5 w-3.5 lg:inline rtl:ml-0 rtl:mr-0.5" />
  </button>
  <ul
    class="dropdown-menu dark:lg:bg-dark rounded border border-gray-200 pl-4 font-medium drop-shadow-xl dark:border-gray-700 lg:absolute lg:hidden lg:min-w-[200px] lg:bg-white/90 lg:pl-0 lg:backdrop-blur-md"
  >
    {
      links.map(({ text: subtext, href, dividerAfter = false }) => (
        <li class:list={{ 'border-b border-gray-200': dividerAfter }}>
          <a
            class:list={[
              'hover:text-link whitespace-no-wrap block px-5 py-2 first:rounded-t last:rounded-b dark:hover:bg-gray-700 dark:hover:text-white lg:hover:bg-gray-100',
              { 'aw-link-active': href === currentPath },
            ]}
            href={href}
          >
            {subtext}
          </a>
        </li>
      ))
    }
  </ul>
</>
