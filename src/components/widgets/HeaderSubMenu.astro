---
import { Icon } from 'astro-icon/components';

const { text, links, currentPath } = Astro.props;
---

<>
  <button class="hover:text-link dark:hover:text-white px-4 py-3 flex items-center">
    {text}
    <Icon name="tabler:chevron-down" class="w-3.5 h-3.5 ml-0.5 rtl:ml-0 rtl:mr-0.5 hidden lg:inline" />
  </button>
  <ul
    class="dropdown-menu lg:backdrop-blur-md dark:lg:bg-dark rounded lg:absolute pl-4 lg:pl-0 lg:hidden font-medium lg:bg-white/90 lg:min-w-[200px] drop-shadow-xl border dark:border-gray-700 border-gray-200"
  >
    {
      links.map(({ text: subtext, href, dividerAfter = false }) => (
        <li class:list={{ 'border-b border-gray-200': dividerAfter }}>
          <a
            class:list={[
              'first:rounded-t last:rounded-b lg:hover:bg-gray-100 hover:text-link dark:hover:text-white dark:hover:bg-gray-700 py-2 px-5 block whitespace-no-wrap',
              { 'aw-link-active': href === currentPath },
            ]}
            href={href}
          >
            {subtext}
          </a>
        </li>
      ))
    }
  </ul>
</>
